@use "../shared/util" as *;
@use "../shared/vars" as *;
@use "../shared/fonts" as *;
@use "../themes/colors" as colors;

/*=========================
   COLORS
==========================*/
html {
  --color-index-welcome-accent: #{colors.$dark-mode-index-welcome-accent};
  --color-index-links: #{colors.$dark-mode-index-links};
  --color-index-link-projects-hover: #{colors.$dark-mode-index-link-projects-hover};
  --color-index-link-drawings-hover: #{colors.$dark-mode-index-link-drawings-hover};
  --color-index-link-articles-hover: #{colors.$dark-mode-index-link-articles-hover};
  --color-index-link-about-hover: #{colors.$dark-mode-index-link-about-hover};

  &[data-theme="light"] {
    --color-index-welcome-accent: #{colors.$light-mode-index-welcome-accent};
    --color-index-links: #{colors.$light-mode-index-links};
    --color-index-link-projects-hover: #{colors.$light-mode-index-link-projects-hover};
    --color-index-link-drawings-hover: #{colors.$light-mode-index-link-drawings-hover};
    --color-index-link-articles-hover: #{colors.$light-mode-index-link-articles-hover};
    --color-index-link-about-hover: #{colors.$light-mode-index-link-about-hover};
  }
}

/*=========================
   STYLES
==========================*/
.index-page {
  min-height: 100%;
  display: flex;
  flex-direction: column;
  padding-top: 0;
  padding-bottom: 0;
  gap: 0;

  .index-page-top {
    flex-grow: 1;
    display: flex;
    align-items: center;
    margin: 20px;

    .welcome-wrapper {
      flex-direction: row;
      gap: 0;
      flex-grow: 1;
      display: flex;
      align-items: center;

      font-weight: lighter;
      font-size: rem(38px);

      .welcome-name, .welcome-occupation {
        flex: 0;
        flex-flow: column;
        align-items: center;
        text-align: center;
      }

      .welcome-name {
        display: flex;
        flex: 1;
        align-items: center;
        align-self: center;

        .welcome-accent {
          color: var(--color-index-welcome-accent);
          font-size: rem(45px);
          font-weight: normal;
          letter-spacing: 1px;
        }
      }

      .welcome-occupation {
        display: flex;
        flex: 1;
        align-items: center;
        align-self: center;
      }

      .welcome-pic {
        height: 400px;
        border-radius: 50%;
      }
    }
  }

  .index-page-bottom {
    display: none;
    flex-grow: 0;

    .links-wrapper {
      flex-grow: 1;
      display: flex;
      align-items: center;

      flex-direction: row;
      width: 100%;
      gap: 0;

      .link {
        position: relative;
        display: flex;
        align-items: center;

        font-weight: 300;
        color: var(--color-index-links);

        padding-top: rem(50px);
        padding-bottom: rem(50px);
        flex-grow: 1;
        flex-direction: column;
        gap: rem(10px);

        .link-icon {
          flex-grow: 1;
          font-size: rem(40px);
        }

        .link-title {
          flex-grow: 1;
          font-size: rem(28px);
          letter-spacing: 1px;
        }
      }
    }
  }
}

/*=========================
   MOBILE STYLES
==========================*/
@container content (max-width: #{$breakpoint-mobile}) {
  .index-page {
    padding-top: rem(40px);
    padding-bottom: rem(60px);
    gap: rem(60px);

    & > .index-page-top {
      flex-grow: 0;

      & > .welcome-wrapper {
        flex-direction: column;
        gap: rem(30px);

        & > .welcome-name,
        & > .welcome-occupation {
          flex: 0;
          flex-flow: column;
          align-items: center;
          text-align: center;
          align-self: center;

          & > .welcome-name-second {
            padding-right: 0;
          }

          & > .welcome-occupation-first {
            padding-left: 0;
          }
        }
      }
    }

    & > .index-page-bottom {
      & > .links-wrapper {
        flex-direction: column;
        gap: rem(40px);

        & > .link {
          flex-direction: row;
          gap: rem(20px);
          padding-top: 0;
          padding-bottom: 0;

          & > .link-icon {
            font-size: rem(30px);
          }
        }
      }
    }
  }
}

/*=========================
   HOVER STYLES
==========================*/
@media (hover: hover) {
  .index-page .link {
    &:hover, &:focus-within {
      font-weight: 300;

      &.projects-link {
        color: var(--color-index-link-projects-hover);
      }

      &.drawings-link {
        color: var(--color-index-link-drawings-hover);
      }

      &.articles-link {
        color: var(--color-index-link-articles-hover);
      }

      &.about-link {
        color: var(--color-index-link-about-hover);
      }
    }
  }
}

.welcome-pic-background {
  display: none;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  opacity: 0;
}

.welcome-pic {

  svg {
    * {
      transform-box: fill-box;
    }

    circle {
      display: none;
    }

    #mask {
      display: none;
    }

    #portrait path {
      fill-opacity: 0.6;
      //transform: translateY(-190px);
      //transition: transform 0.5s ease-in;

      stroke-width: 0.2px;
      stroke-opacity: 1;

      transform-origin: center;

      // LINE
      @if (true) {
        @for $i from 1 through 113 {
          &.top-left-#{$i} {
            fill: transparent;
            stroke: #D4D4D4;
            stroke-dasharray: 115;
            stroke-dashoffset: 115;
            $pace: 0.04;
            animation: dash #{$pace}s linear #{$pace * $i + 3}s forwards;
          }
        }
      }

      @if (false) {
        // PAINT
        @for $i from 1 through 113 {
          &.top-left-#{$i} {
            $pace: 0.015;
            transform: scale(0);
            fill: inherit;
            stroke: #1E1E1E;
            stroke-width: 0.6px;
            animation: paint 0.2s linear #{$pace * $i + 3}s forwards;
          }
        }
      }

      // MOVE
      @for $i from 1 through 113 {
        &.top-left-#{$i} {
          //transform: translate(#{random(1000) - 500}px, #{random(1000) - 50}px);
          //$pace: 0.02;
          //animation: fall 2s ease-in #{$pace * $i}s forwards;
        }
      }
    }

    #details path {
      //stroke-width: 0 !important;
    }
  }
}


@keyframes dash {
  0% {
    stroke-dasharray: 115;
    stroke-dashoffset: 115;
  }
  100% {
    stroke-dasharray: 115;
    stroke-dashoffset: 0;
  }
}

@keyframes paint {
  0% {
    transform: scale(0);
  }
  100% {
    transform: scale(100%);
  }
}

@keyframes fall {
  0% {
  }
  100% {
    transform: translate(0, 0);

  }
}
